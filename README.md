# Super-Simple Website Generator

## Introduction

### TL;DR

* This is a simple app that displays the contents of a directory as a website
* Configuration is optional, with sensible defaults chosen
  * the configuration syntax is YAML
* It is written in Common Lisp in a quasi-[literate](http://www.literateprogramming.com/knuthweb.pdf) form

### Goals and Motivation

* **I want an easy way to view and edit my files and notes wherever I am**

* To this end I want a no fuss app that is able to simply point to a directory
  * and have all it's contents displayed as a website

* Text files should be editable such that
  * I can edit it from a website that's accessible wherever I am
  * or right off my local file-system, in my favourite editor
* Consequently, a system needs to be in-place
  * to keep the files on the website and my local computer in sync
* I'm already using [syncthing](https://syncthing.net)
  * to keep my files in sync across all my devices
    * so I can just keep using that
  * the website simply becomes another device
* I don't intend to roll syncthing into this app
  * It'll need to be setup separately
  * But of course using any kind of file synchronisation tool is optional
  * It's only needed if you want to edit files locally
    * and not just from the website

### Solution

* Create a web app that will show the contents of a directory
  * this is either the directory from which the app is launched
  * or one (or more) directories specified as command-line arguments
* Any file can be downloaded
* If the browser supports the file format
  * e.g. images, movies, etc.
  * it will render it accordingly
* Markdown files will be displayed as HTML
* Directories will simply be links to other pages
* Files and directories can be managed in the following ways:
  * upload new files
  * create new directories
  * rename files/directories
  * replace existing files
  * edit text files right off the website
  * edit source files from which an HTML page was generated
  * delete files/directories
* Configuration files are optional
  * i.e. use sensible defaults
  * of course this will be biased on *my* initial desires
* Optional config file(s) to amend behaviour

### Non-Solutions

* You might be wondering why I don't just go with one of the many **[static site generators](https://www.staticgen.com/)**
* The main reason is that none of them seem to be able to
  * simply point to a directory and generate a website
    * without configuration
  * and be able to directly edit source markdown files
* These solutions also do a lot more than what I want
  * e.g. can serve as a blogging tool
  * and so feel too heavy a dependency to manage
* What about Dropbox, Google Drive, etc.?
  * None of these can be self-hosted

### Literate Programming

* This will also serve as my first foray into [literate programming](http://www.literateprogramming.com/knuthweb.pdf)
* However I'd rather not go the traditional web/weave/tangle approach
* Instead I want to take a quasi-literate approach where
  * all the documentation and source code is in a single Common Lisp file
    * i.e. [app.lisp](./app.lisp)
  * the documentation will be written
    * within Common Lisp's [multi-line comments](http://clhs.lisp.se/Body/02_dhs.htm)
    * in (Github flavoured) markdown syntax
* Obviously there are drawbacks to this approach
  * with the biggest one potentially being that I can't really write this in
    a *stream of conciousness* flow
  * instead I'll be taking a (mostly) top-down approach
* But there are also considerable advantages:
  * The code is easily run, edited and debugged within your favourite editor
    * e.g. emacs or vim
  * There's no need for the tangle phase
  * The documentation can be easily generated by
    * slightly modifying the source file to be formatted as pure markdown:
      * strip out the multi-line comment markers
      * wrap the code blocks with block-level code syntax
    * use one of several available markdown to HTML generators
  * See [weave.ros](./weave.ros)
