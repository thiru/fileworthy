# Super-Simple Website Generator

## Introduction

### TL;DR

* This is a simple app that displays the contents of a directory as a website
* Configuration is optional, with sensible defaults
  * the configuration syntax is YAML
* It is written in Common Lisp in a quasi-[literate](http://www.literateprogramming.com/knuthweb.pdf) form

### Motivation

* **I want an easy way to view and edit my files and notes wherever I am**

* To this end I want a no fuss app that is able to simply point to a directory
  * and have all it's contents displayed as a website

* Text files should be editable by
  * editing it from a website that's accessible wherever I am
  * or right off my local file-system, in my favourite editor
* Note the consequences of the above two requirements
* It implies that a system needs to be in-place
  * to keep the files on the website and my local computer in sync
* I'm already using [syncthing](https://syncthing.net)
  * to keep my files in sync across all my devices
    * so I can just keep using that
  * the website is simply another device
* I don't intend to roll syncthing into this app
  * It'll need to be setup separately
  * But of course using any kind of file synchronisation tool is optional
  * It's only needed if you want to edit files locally
    * and not just from the website

### Proposed Solution

* Create an app than when launched will start a web server
* A dynamic website will be generated for the respective directory
  * this is either the directory from which the app is launched
  * or one (or more) directories specified as command-line arguments
* Any file can be downloaded
* If the browser supports the file format
  * e.g. images, movies, etc.
  * it will render it accordingly
* Markdown files will be displayed as HTML
* Directories will simply be links to other pages
* Files and directories can be managed in the following ways:
  * upload new files
  * create new directories
  * rename files/directories
  * replacing existing files
  * directly edit text files on the website
  * directly edit source files from which a HTML page was generated
  * delete files/directories
* Configuration files are optional
  * i.e. use sensible defaults
  * of course this will be biased on *my* initial desires
* Optional config file(s) to amend behaviour

### Non-Solutions

* You might be wondering why I didn't just choose one of the many **[static site generators](https://www.staticgen.com/)**
* The main reason is that none of them seem to be able to
  * simply point to a directory and generate a website
    * without configuration
  * and be able to directly edit source markdown files
* These solutions also do a lot more than what I want
  * e.g. can serve as a blogging tool
* I want to be able to modify the source specifically with Common Lisp

### Literate Programming

* This will also serve as my first foray into [literate programming](http://www.literateprogramming.com/knuthweb.pdf)
* However I'd rather not go the traditional web/weave/tangle approach
* Instead I want to take a quasi-literate approach where
  * all the documentation and source code is in a single Common Lisp file
    * e.g. `app.lisp`
  * the documentation will be written
    * within Common Lisp's multi-line comments
    * in markdown syntax
* Obviously there are drawbacks to this approach
  * with the biggest one potentially being that I can't really write this in
    a *stream of conciousness* flow
  * instead I'll be taking a (mostly) top-down approach
* But there are also considerable advantages:
  * The code is easily run, edited and debugged within your favourite editor
    * e.g. emacs or vim
    * and so there's no need for the tangle phase
  * The documentation can be easily generated by
    * slightly modifying the source file to be formatted as pure markdown:
      * strip out the multi-line comment markers
      * indent all non multi-line comments as block-level markdown code
    * use one of several available markdown to HTML generators
